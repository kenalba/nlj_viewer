# NLJ Platform Configuration - Complete Environment Variables
# Copy this to .env and update values for your environment

# ============================================================================
# APPLICATION SETTINGS  
# ============================================================================
APP_NAME="NLJ Platform API"
DEBUG=true  # Set to false for production deployment
VERSION="0.1.0"
SECRET_KEY="your-secret-key-change-in-production-use-strong-random-key"
ALGORITHM="HS256" 
ACCESS_TOKEN_EXPIRE_MINUTES=30
ENABLE_REGISTRATION=true
ENABLE_EMAIL_NOTIFICATIONS=false

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL="postgresql+asyncpg://nlj_user:nlj_pass@localhost:5432/nlj_platform"

# RDS Configuration (LocalStack Pro - optional)
USE_RDS=false
RDS_ENDPOINT_URL=http://localhost:4566
RDS_DB_INSTANCE_ID=nlj-postgres-dev  
RDS_REPLICA_INSTANCE_ID=nlj-postgres-replica
DATABASE_URL_TEMPLATE=postgresql+asyncpg://nlj_admin:nlj_secure_password_2024@{host}:{port}/nlj_platform?ssl=disable
AUTO_SEED_DATABASE=true

# ============================================================================
# AWS & LOCALSTACK CONFIGURATION
# ============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test

# LocalStack Pro API Key (required for RDS)
# Get from: https://localstack.cloud/
LOCALSTACK_API_KEY=

# S3 Configuration (LocalStack)
S3_ENDPOINT_URL=http://localhost:4566
S3_BUCKET_MEDIA=nlj-media-dev

# SES Configuration (LocalStack)  
SES_ENDPOINT_URL=http://localhost:4566
SES_FROM_EMAIL=noreply@nlj-platform.local

# ============================================================================
# FASTSTREAM & ANALYTICS CONFIGURATION
# ============================================================================
# RedPanda/Kafka Configuration
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CLIENT_ID=nlj-platform
KAFKA_GROUP_ID=nlj-consumer

# Elasticsearch Configuration (FastStream analytics)
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX=xapi-statements
ELASTICSEARCH_TIMEOUT=30

# FastStream Configuration  
FASTSTREAM_WORKERS=4
FASTSTREAM_LOG_LEVEL=INFO
LOG_LEVEL=INFO

# ============================================================================
# AI API KEYS
# ============================================================================
# Claude API settings for Content Studio
CLAUDE_API_KEY=

# ElevenLabs API Key for Content Studio  
ELEVENLABS_API_KEY=

# ============================================================================
# WEB & CORS CONFIGURATION
# ============================================================================
# CORS settings for frontend integration
ALLOWED_HOSTS='["http://localhost:3000", "http://localhost:5173", "http://localhost:8080", "https://callcoach.training", "https://www.callcoach.training"]'

# Frontend URLs
FRONTEND_URL=http://localhost:5173  # Use https://your-domain.com for production
VITE_API_URL=http://localhost:8000
VITE_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_WEBAPP_URL=http://localhost:3000

# CORS Origins for development
CORS_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:3000

# ============================================================================
# FILE UPLOAD & MEDIA
# ============================================================================
MAX_FILE_SIZE=524288000  # 500MB in bytes
UPLOAD_DIR=uploads

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
EMAIL_HOST=
EMAIL_PORT=587
EMAIL_USER=
EMAIL_PASSWORD=
EMAIL_USE_TLS=true

# ============================================================================
# CALENDAR INTEGRATION (Cal.com)
# ============================================================================
CAL_NEXTAUTH_SECRET=your-secure-nextauth-secret-key-change-in-production
CAL_ENCRYPTION_KEY=your-secure-encryption-key-change-in-production
CAL_DATABASE_URL=postgresql://cal_user:cal_pass@localhost:5433/cal_db
CAL_COM_API_KEY=
CAL_COM_WEBHOOK_SECRET=

# Cal.com Email Configuration (optional for development)
CAL_EMAIL_FROM=noreply@localhost
CAL_EMAIL_USER=
CAL_EMAIL_PASSWORD=
CAL_EMAIL_HOST=
CAL_EMAIL_PORT=587

# ============================================================================
# CALENDAR PROVIDER API KEYS
# ============================================================================
# Google Calendar Integration
GOOGLE_CALENDAR_CLIENT_ID=
GOOGLE_CALENDAR_CLIENT_SECRET=

# Microsoft Calendar Integration  
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=

# ============================================================================
# CACHING & EXTERNAL SERVICES
# ============================================================================
# Optional Redis for caching
REDIS_URL=redis://localhost:6379

# Future Keycloak integration (leave empty for simple auth)
KEYCLOAK_URL=
KEYCLOAK_REALM=
KEYCLOAK_CLIENT_ID=

# ============================================================================
# DOCKER & DEVELOPMENT
# ============================================================================
NODE_ENV=development
DOCKER_ENV=true